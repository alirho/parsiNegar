<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="pic/logo.svg" type="image/svg+xml">
  <title>پارسی‌نگار | ویرایشگر markdown</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://unpkg.com/shahneshan@2.0.1/dist/shahneshan.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.1.0/dist/markdown-it.min.js"></script>
  <script src="libs/parsneshan.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
  <link rel="stylesheet" id="hljs-light-theme" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
  <link rel="stylesheet" id="hljs-dark-theme" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" disabled>
  <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
  <div id="app">
    <div id="menuBar">
      <ul class="menu">
        <li><a href="#" class="logo-link"><div id="menuLogo" title="لوگوی پارسی‌نگار"></div></a></li>
        <li>
          <a href="#">پرونده</a>
          <ul class="submenu">
            <li><a href="#" id="newFileBtn"><i class="fas fa-file"></i><span>پرونده نو</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>N</kbd></span></a></li>
            <li><a href="#" id="loadFileBtn"><i class="fas fa-folder-open"></i><span>بارگذاری پرونده</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></span></a></li>
            <li><a href="#" id="showFilesMenuBtn"><i class="fas fa-folder-tree"></i><span>پرونده‌ها</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd></span></a></li>
            <li class="has-submenu">
              <a href="#"><i class="fas fa-file-export"></i> خروجی گرفتن</a>
              <ul class="submenu">
                <li><a href="#" id="exportMdBtn"><i class="fas fa-file-alt"></i><span>Markdown</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>E</kbd></span></a></li>
                <li><a href="#" id="exportHtmlBtn"><i class="fas fa-file-code"></i> HTML</a></li>
                <li><a href="#" id="exportPdfBtn"><i class="fas fa-file-pdf"></i> PDF</a></li>
                <li><a href="#" id="exportAllZipBtn"><i class="fas fa-file-archive"></i> تمامی پرونده‌ها (zip)</a></li>
              </ul>
            </li>
            <li><a href="#" id="settingsBtn"><i class="fas fa-cog"></i> تنظیمات</a></li>
          </ul>
        </li>
        <li>
          <a href="#">ویرایش</a>
          <ul class="submenu">
            <li><a href="#" id="undoMenuBtn"><i class="fas fa-redo"></i><span>واگرد</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Z</kbd></span></a></li>
            <li><a href="#" id="redoMenuBtn"><i class="fas fa-undo"></i><span>ازنو</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Y</kbd></span></a></li>
            <li class="separator"><hr></li>
            <li><a href="#" id="cutMenuBtn"><i class="fas fa-cut"></i><span>برش</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>X</kbd></span></a></li>
            <li><a href="#" id="copyMenuBtn"><i class="fas fa-copy"></i><span>رونوشت</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>C</kbd></span></a></li>
            <li><a href="#" id="pasteMenuBtn"><i class="fas fa-paste"></i><span>چسباندن</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>V</kbd></span></a></li>
            <li class="separator"><hr></li>
            <li><a href="#" id="selectAllMenuBtn"><i class="fas fa-object-group"></i><span>انتخاب همه</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>A</kbd></span></a></li>
            <li class="separator"><hr></li>
            <li><a href="#" id="findMenuBtn"><i class="fas fa-search"></i><span>جست‌وجو</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>F</kbd></span></a></li>
            <li><a href="#" id="replaceMenuBtn"><i class="fas fa-exchange-alt"></i><span>جست‌وجو و جایگزینی</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>H</kbd></span></a></li>
          </ul>
        </li>
        <li>
          <a href="#">نمایش</a>
          <ul class="submenu">
            <li>
              <label>
                <input type="checkbox" id="showToolbar">
                <i class="fas fa-toolbox"></i> نوار ابزار
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" id="showStatusBar" checked>
                <i class="fas fa-info-circle"></i> نوار آمار
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" id="showToc">
                <i class="fas fa-list"></i><span>فهرست مطالب</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd></span>
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" id="showFiles">
                <i class="fas fa-folder-tree"></i><span>پرونده‌ها</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd></span>
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" id="showFilename" checked>
                <i class="fas fa-file-signature"></i> نام پرونده
              </label>
            </li>
          </ul>
        </li>
        <li>
          <a href="#">افزودن</a>
          <ul class="submenu">
            <li class="has-submenu">
              <a href="#"><i class="fas fa-heading"></i><span>عنوان‌ها</span></a>
              <ul class="submenu">
                <li><a href="#" data-format="heading1"><i class="fas fa-heading"></i><span>عنوان ۱</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>1</kbd></span></a></li>
                <li><a href="#" data-format="heading2"><i class="fas fa-heading"></i><span>عنوان ۲</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>2</kbd></span></a></li>
                <li><a href="#" data-format="heading3"><i class="fas fa-heading"></i><span>عنوان ۳</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>3</kbd></span></a></li>
                <li><a href="#" data-format="heading4"><i class="fas fa-heading"></i><span>عنوان ۴</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>4</kbd></span></a></li>
              </ul>
            </li>
            <li><a href="#" data-format="bold"><i class="fas fa-bold"></i><span>پررنگ</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>B</kbd></span></a></li>
            <li><a href="#" data-format="italic"><i class="fas fa-italic"></i><span>مورب</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>I</kbd></span></a></li>
            <li><a href="#" data-format="strike"><i class="fas fa-strikethrough"></i><span>خط زده</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>U</kbd></span></a></li>
            <li><a href="#" data-format="orderedList"><i class="fas fa-list-ol"></i><span>لیست مرتب</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd></span></a></li>
            <li><a href="#" data-format="unorderedList"><i class="fas fa-list-ul"></i><span>لیست نامرتب</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>U</kbd></span></a></li>
            <li><a href="#" data-format="checklist"><i class="fas fa-tasks"></i><span>بازبینه</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd></span></a></li>
            <li><a href="#" data-format="quote"><i class="fas fa-quote-right"></i><span>نقل‌قول</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Q</kbd></span></a></li>
            <li><a href="#" data-format="code"><i class="fas fa-code"></i><span>کد</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>`</kbd></span></a></li>
            <li><a href="#" data-format="table"><i class="fas fa-table"></i><span>جدول</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>I</kbd></span></a></li>
            <li><a href="#" data-format="image"><i class="fas fa-image"></i><span>تصویر</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd></span></a></li>
            <li><a href="#" data-format="link"><i class="fas fa-link"></i><span>پیوند</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>K</kbd></span></a></li>
            <li><a href="#" data-format="emoji"><i class="fas fa-smile"></i><span>شکلک</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>E</kbd></span></a></li>
            <li><a href="#" data-format="highlight"><i class="fas fa-highlighter"></i><span>برجسته</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>H</kbd></span></a></li>
            <li><a href="#" data-format="poetry"><i class="fas fa-feather-alt"></i><span>شعر</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd></span></a></li>
            <li class="has-submenu">
              <a href="#"><i class="fas fa-box"></i><span>جعبه‌های توضیحی</span></a>
              <ul class="submenu">
                <li><a href="#" data-format="admonition-note"><i class="fas fa-info-circle"></i><span>جعبه توجه</span></a></li>
                <li><a href="#" data-format="admonition-warning"><i class="fas fa-exclamation-triangle"></i><span>جعبه هشدار</span></a></li>
                <li><a href="#" data-format="admonition-tip"><i class="fas fa-lightbulb"></i><span>جعبه نکته</span></a></li>
                <li><a href="#" data-format="admonition-important"><i class="fas fa-star"></i><span>جعبه مهم</span></a></li>
                <li><a href="#" data-format="admonition-caution"><i class="fas fa-shield-alt"></i><span>جعبه احتیاط</span></a></li>
              </ul>
            </li>
            <li><a href="#" data-format="chart"><i class="fas fa-sitemap"></i><span>نمودار</span></a></li>
            <li><a href="#" data-format="mindmap"><i class="fas fa-brain"></i><span>نقشه‌ذهنی</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>M</kbd></span></a></li>
          </ul>
        </li>
        <li>
          <a href="#">راهنما</a>
          <ul class="submenu">
            <li><a href="#" id="userGuideBtn"><i class="fas fa-book"></i> راهنمای کاربر</a></li>
            <li><a href="#" id="markdownGuideBtn"><i class="fas fa-file-alt"></i> راهنمای مارک‌داون</a></li>
            <li><a href="#" id="technicalDocBtn"><i class="fas fa-file-code"></i> مستندات فنی</a></li>
            <li class="separator"><hr></li>
            <li><a href="#" id="keyboardShortcutsBtn"><i class="fas fa-keyboard"></i><span>راهنمای کلیدها</span><span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>K</kbd></span></a></li>
            <li class="separator"><hr></li>
            <li><a href="https://mermaid.js.org/intro/" target="_blank"><i class="fas fa-external-link-alt"></i> راهنمای Mermaid.js</a></li>
          </ul>
        </li>
        <li class="menu-right">
          <a href="#" id="copyAllBtn" title="رونوشت کل پرونده"><i class="fas fa-copy"></i></a>
          <a href="#" id="searchBtn" title="جست‌وجو"><i class="fas fa-search"></i></a>
          <a href="#" id="fullscreenBtn" title="تمام صفحه"><i class="fas fa-expand"></i></a>
          <div id="searchBar" class="hidden">
            <div class="search-top-row">
              <select id="searchScope" title="محدوده جست‌وجو">
                <option value="all" selected>همه جا</option>
                <option value="editor">نوشتن</option>
                <option value="preview">نمایش</option>
              </select>
              <input type="text" id="searchInput" placeholder="جست‌وجو..." spellcheck="false">
              <span class="divider"></span>
              <span id="searchCount">0/0</span>
              <button id="prevMatchBtn" title="مورد قبلی"><i class="fas fa-chevron-up"></i></button>
              <button id="nextMatchBtn" title="مورد بعدی"><i class="fas fa-chevron-down"></i></button>
              <button id="closeSearchBtn" title="بستن"><i class="fas fa-times"></i></button>
            </div>
            <div class="search-bottom-row">
              <input type="text" id="replaceInput" placeholder="جایگزینی با..." spellcheck="false">
              <button id="replaceBtn" title="جایگزینی" disabled><i class="fas fa-exchange-alt"></i></button>
              <button id="replaceAllBtn" title="جایگزینی همه" disabled><i class="fas fa-sync-alt"></i></button>
            </div>
          </div>
        </li>
      </ul>
    </div>

    <div id="toolbar">
      <div class="toolbar-left">
        <button id="uploadBtn" title="بارگذاری"><i class="fas fa-upload"></i></button>
        <input type="file" id="fileInput" accept=".md,.markdown,.txt" hidden>
        <span class="divider"></span>
        <button id="undoBtn" title="واگرد"><i class="fas fa-redo"></i></button>
        <button id="redoBtn" title="از نو"><i class="fas fa-undo"></i></button>
        <span class="divider"></span>
        <button data-action="bold" title="پررنگ (Ctrl+B)"><i class="fas fa-bold"></i></button>
        <button data-action="italic" title="مورب (Ctrl+I)"><i class="fas fa-italic"></i></button>
        <button data-action="strike" title="خط‌زده (Ctrl+U)"><i class="fas fa-strikethrough"></i></button>
        <button data-action="highlight" title="برجسته (Ctrl+Shift+H)"><i class="fas fa-highlighter"></i></button>
        <button data-action="heading2" title="عنوان (Ctrl+2)"><i class="fas fa-heading"></i></button>
        <span class="divider"></span>
        <button data-action="unorderedList" title="لیست نامرتب (Ctrl+Shift+U)"><i class="fas fa-list-ul"></i></button>
        <button data-action="orderedList" title="لیست مرتب (Ctrl+Shift+L)"><i class="fas fa-list-ol"></i></button>
        <button data-action="checklist" title="بازبینه (Ctrl+Shift+T)"><i class="fas fa-tasks"></i></button>
        <span class="divider"></span>
        <button data-action="quote" title="نقل‌قول (Ctrl+Shift+Q)"><i class="fas fa-quote-right"></i></button>
        <button data-action="code" title="کد (Ctrl+`)"><i class="fas fa-code"></i></button>
        <button data-action="poetry" title="شعر (Ctrl+Shift+P)"><i class="fas fa-feather-alt"></i></button>
        <span class="divider"></span>
        <button data-action="link" title="پیوند (Ctrl+K)"><i class="fas fa-link"></i></button>
        <button data-action="image" title="تصویر (Ctrl+Shift+I)"><i class="fas fa-image"></i></button>
        <button data-action="emoji" title="شکلک (Ctrl+Shift+E)"><i class="fas fa-smile"></i></button>
        <button data-action="table" title="جدول (Ctrl+Alt+I)"><i class="fas fa-table"></i></button>
        <span class="divider"></span>
        <div class="toolbar-dropdown-container">
          <button class="toolbar-dropdown-toggle" title="جعبه‌های توضیحی"><i class="fas fa-box"></i></button>
          <div class="toolbar-dropdown-menu hidden">
              <a href="#" data-action="admonition-note"><i class="fas fa-info-circle"></i> جعبه توجه</a>
              <a href="#" data-action="admonition-warning"><i class="fas fa-exclamation-triangle"></i> جعبه هشدار</a>
              <a href="#" data-action="admonition-tip"><i class="fas fa-lightbulb"></i> جعبه نکته</a>
              <a href="#" data-action="admonition-important"><i class="fas fa-star"></i> جعبه مهم</a>
              <a href="#" data-action="admonition-caution"><i class="fas fa-shield-alt"></i> جعبه احتیاط</a>
          </div>
        </div>
        <button data-action="chart" title="نمودار"><i class="fas fa-sitemap"></i></button>
        <button data-action="mindmap" title="نقشه‌ذهنی (Ctrl+Shift+M)"><i class="fas fa-brain"></i></button>
      </div>
      <div class="toolbar-right">
        <button id="downloadPdfBtn" title="دانلود PDF"><i class="fa-solid fa-file-pdf"></i></button>
        <button id="downloadHtmlBtn" title="دانلود HTML"><i class="fa-solid fa-file-code"></i></button>
        <button id="downloadMdBtn" title="دانلود Markdown"><i class="fa-solid fa-file-arrow-down"></i></button>
      </div>
    </div>

    <div id="content">
      <div id="sidePanel">
        <div id="sidePanelTabs">
          <button class="side-panel-tab" data-tab="files" title="پرونده‌ها"><i class="fas fa-folder-tree"></i></button>
          <button class="side-panel-tab" data-tab="toc" title="فهرست مطالب"><i class="fas fa-list"></i></button>
        </div>
        <div id="sidePanelContent">
          <div id="filesPanel" class="side-panel-pane">
            <div class="files-list"></div>
          </div>
          <div id="tocPanel" class="side-panel-pane">
            <div class="toc-list"></div>
          </div>
        </div>
      </div>

      <div id="editorContainer">
        <div id="editorWrapper">
          <div id="editorBackdrop"></div>
          <textarea dir="auto" id="editor" spellcheck="false"></textarea>
        </div>
        <div id="shortcutsMenu"></div>
        <emoji-picker id="emojiPicker" class="hidden"></emoji-picker>
      </div>
          
      <div id="previewContainer">
        <div id="preview" class="markdown-preview" dir="auto"></div>
      </div>
    </div>

    <div id="statusBar">
      <div class="status-left">
        <span id="charsCount">نویسه: 0</span>
        <span id="lettersCount">حرف: 0</span>
        <span id="wordsCount">واژه: 0</span>
        <span id="linesCount">خط: 0</span>
        <span id="fileSize">حجم: 0 بایت</span>
      </div>
      <div class="status-right">
        <input type="text" id="filename" value="نام پرونده" class="filename-input">
      </div>
    </div>
  </div>

  <div id="settingsPanel" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>تنظیمات</h2>
        <button id="closeSettingsBtn"><i class="fas fa-times"></i></button>
      </div>
      
      <div class="modal-body">
        <div class="setting-group">
          <label>قالب</label>
          <div class="theme-options">
            <label>
              <input type="radio" name="theme" value="device" checked>
              <span>دستگاه</span>
            </label>
            <label>
              <input type="radio" name="theme" value="light">
              <span>روشن</span>
            </label>
            <label>
              <input type="radio" name="theme" value="dark">
              <span>تیره</span>
            </label>
            <label>
              <input type="radio" name="theme" value="sepia">
              <span>سپیا</span>
            </label>
          </div>
        </div>
        
        <div class="setting-group">
          <label>مفسر مارک‌داون</label>
          <select id="markdownParser">
            <option value="parsneshan" selected>پارس‌نشان</option>
            <option value="marked">Marked</option>
            <option value="shahneshan">شه‌نشان</option>
          </select>
        </div>
        
        <div class="setting-group">
          <label>اندازه فونت</label>
          <select id="fontSize">
            <option value="12">کوچک (12px)</option>
            <option value="14" selected>متوسط (14px)</option>
            <option value="16">بزرگ (16px)</option>
            <option value="18">خیلی بزرگ (18px)</option>
          </select>
        </div>
        
        <div class="setting-group">
          <label>نوع فونت</label>
          <select id="fontFamily">
            <option value="Vazirmatn" selected>وزیر متن</option>
            <option value="IRANYekan">ایران یکان</option>
          </select>
        </div>

        <div class="setting-group">
          <label>جهت متن</label>
          <div class="direction-options">
            <label>
              <input type="radio" name="direction" value="auto" checked>
              <span>خودکار</span>
            </label>
            <label>
              <input type="radio" name="direction" value="rtl">
              <span>راست به چپ</span>
            </label>
            <label>
              <input type="radio" name="direction" value="ltr">
              <span>چپ به راست</span>
            </label>
          </div>
        </div>

        <div class="setting-group">
          <label>پاک کردن داده‌ها</label>
          <button id="clearDBBtn" class="danger-btn">پاک کردن</button>
        </div>

        <div class="setting-footer">
          <div class="footer-branding">
            <div class="footer-logo" title="لوگوی پارسی‌نگار"></div>
            <span class="footer-app-name">پارسی‌نگار</span>
          </div>
          <div class="footer-links">
            <a href="https://github.com/alirho/parsiNegar" target="_blank" class="github-link" title="گیت‌هاب">
              <i class="fab fa-github"></i>
            </a>
            <a href="https://github.com/alirho/parsiNegar/releases" target="_blank" class="version-link">نسخه ۲.۱۶.۰</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="filePropertiesModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ویژگی‌های پرونده</h2>
        <button id="closePropertiesBtn"><i class="fas fa-times"></i></button>
      </div>
      <div class="modal-body">
        <div id="propertiesContainer">
            <div class="property-item">
                <span class="property-label">نام پرونده:</span>
                <span id="propFileName" class="property-value"></span>
            </div>
            <div class="property-item">
                <span class="property-label">حجم پرونده:</span>
                <span id="propFileSize" class="property-value"></span>
            </div>
            <div class="property-item">
                <span class="property-label">تاریخ ایجاد:</span>
                <span id="propCreationDate" class="property-value"></span>
            </div>
            <div class="property-item">
                <span class="property-label">آخرین ویرایش:</span>
                <span id="propLastModified" class="property-value"></span>
            </div>
            <div class="property-item">
                <span class="property-label">تعداد نویسه:</span>
                <span id="propCharsCount" class="property-value"></span>
            </div>
            <div class="property-item">
                <span class="property-label">تعداد واژه:</span>
                <span id="propWordsCount" class="property-value"></span>
            </div>
            <div class="property-item">
                <span class="property-label">تعداد خط:</span>
                <span id="propLinesCount" class="property-value"></span>
            </div>
        </div>
      </div>
    </div>
  </div>

  <div id="customDialog" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="dialogTitle"></h2>
        <button id="dialogCloseBtn"><i class="fas fa-times"></i></button>
      </div>
      <div class="modal-body">
        <p id="dialogMessage"></p>
        <input type="text" id="dialogInput" class="hidden" spellcheck="false">
      </div>
      <div class="modal-footer" id="dialogButtons">
        <!-- Buttons will be dynamically inserted here -->
      </div>
    </div>
  </div>

  <div id="shortcutsHelpModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>راهنمای کلیدهای میانبر</h2>
        <button id="closeShortcutsHelpBtn"><i class="fas fa-times"></i></button>
      </div>
      <div class="modal-body">
        <div class="shortcuts-container">
          <div class="shortcuts-column">
            <h3>مدیریت پرونده</h3>
            <table class="shortcuts-table">
              <tr><td>پرونده نو</td><td>Ctrl + Shift + N</td></tr>
              <tr><td>بارگذاری پرونده</td><td>Ctrl + Shift + O</td></tr>
              <tr><td>خروجی Markdown</td><td>Ctrl + E</td></tr>
            </table>
            <h3>ویرایش</h3>
            <table class="shortcuts-table">
              <tr><td>واگرد</td><td>Ctrl + Z</td></tr>
              <tr><td>ازنو</td><td>Ctrl + Y</td></tr>
              <tr><td>برش</td><td>Ctrl + X</td></tr>
              <tr><td>رونوشت</td><td>Ctrl + C</td></tr>
              <tr><td>چسباندن</td><td>Ctrl + V</td></tr>
              <tr><td>انتخاب همه</td><td>Ctrl + A</td></tr>
              <tr><td>جست‌وجو</td><td>Ctrl + F</td></tr>
              <tr><td>جست‌وجو و جایگزینی</td><td>Ctrl + H</td></tr>
            </table>
            <h3>نمایش</h3>
            <table class="shortcuts-table">
              <tr><td>نمایش/پنهان کردن پیش‌نمایش</td><td>Ctrl + Alt + P</td></tr>
              <tr><td>نمایش/پنهان کردن پنل پرونده‌ها</td><td>Ctrl + Alt + F</td></tr>
              <tr><td>نمایش/پنهان کردن فهرست مطالب</td><td>Ctrl + Alt + T</td></tr>
              <tr><td>راهنمای کلیدها</td><td>Ctrl + Alt + K</td></tr>
            </table>
          </div>
          <div class="shortcuts-column">
            <h3>قالب‌بندی متن</h3>
            <table class="shortcuts-table">
              <tr><td>پررنگ</td><td>Ctrl + B</td></tr>
              <tr><td>مورب</td><td>Ctrl + I</td></tr>
              <tr><td>خط‌زده</td><td>Ctrl + U</td></tr>
              <tr><td>پیوند</td><td>Ctrl + K</td></tr>
              <tr><td>کد تک‌خطی</td><td>Ctrl + `</td></tr>
              <tr><td>عنوان ۱</td><td>Ctrl + 1</td></tr>
              <tr><td>عنوان ۲</td><td>Ctrl + 2</td></tr>
              <tr><td>عنوان ۳</td><td>Ctrl + 3</td></tr>
              <tr><td>عنوان ۴</td><td>Ctrl + 4</td></tr>
              <tr><td>لیست مرتب</td><td>Ctrl + Shift + L</td></tr>
              <tr><td>لیست نامرتب</td><td>Ctrl + Shift + U</td></tr>
              <tr><td>بازبینه</td><td>Ctrl + Shift + T</td></tr>
              <tr><td>بلوک کد</td><td>Ctrl + Shift + C</td></tr>
              <tr><td>نقل‌قول</td><td>Ctrl + Shift + Q</td></tr>
              <tr><td>تصویر</td><td>Ctrl + Shift + I</td></tr>
              <tr><td>شکلک</td><td>Ctrl + Shift + E</td></tr>
              <tr><td>جدول</td><td>Ctrl + Alt + I</td></tr>
              <tr><td>نقشه‌ذهنی</td><td>Ctrl + Shift + M</td></tr>
              <tr><td>برجسته کردن</td><td>Ctrl + Shift + H</td></tr>
              <tr><td>شعر</td><td>Ctrl + Shift + P</td></tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/app.js"></script>
</body>
</html>